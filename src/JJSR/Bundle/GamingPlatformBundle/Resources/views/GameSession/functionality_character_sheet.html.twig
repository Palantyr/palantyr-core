<script type="text/javascript">

	function subscribeFunctionalityCharacterSheet(payload)
	{
 		switch(payload.option) {
 		case "update_character_sheet":
 			var character_sheet_functionality_updates = payload.character_sheet_functionality_updates;
 			for (character_sheet_functionality_update in character_sheet_functionality_updates) {
 				updateCharacterSheet(payload.character_sheet_id, character_sheet_functionality_updates[character_sheet_functionality_update]);
 	 		}
 			break;
 		}
 	}

 	function updateCharacterSheet(character_sheet_id, character_sheet_functionality_update)
 	{
		var element = getElementFromCharacterSheet(character_sheet_id, character_sheet_functionality_update['id']);

// 		Maybe text instead of val
		if (element) {
			$(element).children('#value').text(character_sheet_functionality_update['value']);
		}
 	}
</script>
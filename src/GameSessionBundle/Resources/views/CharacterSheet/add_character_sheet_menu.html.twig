{% extends 'base.html.twig' %}

{% block title %}{% trans %}main_menu.add_character_sheet.title{% endtrans %}{% endblock %}

{% block body %}

	<h1>{% trans %}main_menu.add_character_sheet.title{% endtrans %}</h1>
	</br>
    {{ form_start(form, {'method': 'POST', 'style': 'horizontal', 'attr': {'id': 'form', 'novalidate': 'novalidate'} }) }}
{#         {{ form_row(form.rol_game, { 'id': 'form_rol_game', 'label_col': 2, 'widget_col': 3}) }}		#}
{#         {{ form_widget(form) }}#}
    {{ form_end(form) }}
{% endblock %}

{% block javascripts %}
<script>
	$( 'body' ).on('change', '#add_character_sheet_menu_rol_game', function() {
		var rol_game_id = $('#add_character_sheet_menu_rol_game');
		var form = $(this).closest('form');
		
        var data = rol_game_id.serialize();
// 		alert(JSON.stringify($('#form_rol_game')));

        $.ajax({
            url : form.attr('action'),
            type: form.attr('method'),
            data : data,
            success: function(html) {
            	if ($('#add_character_sheet_character_sheet_template').length) {
            		$('#add_character_sheet_character_sheet_template').replaceWith($(html).find('#add_character_sheet_character_sheet_template'));
            	}
            	else {
                    $('#form').replaceWith($(html).find('#form'));
                }     
            }
        });
    });
</script>
{% endblock %}